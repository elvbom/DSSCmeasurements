clear
close all

%ipce = 1240 j/(Pin*lambda)
a = 0.5*0.5;

%1
%var i microamp
ci1 = [28 29 26.2 25.8 25.4 24.5 26.2 34.2 33.7 27.3 23.2 26.7 24.9 15.3 8.9 5.6];
cj1 = ci1./a; %A/cm2
%nm
cl1 = [401 416 434 452 470 488 506 529 546 568 586 609 623 638 657 675]; 
%uWatt/cm2
cp1 = [37.6 43.0 46.7 52.3 59.6 53.7 41.1 40.3 38.0 32.4 29.2 30.5 26.1 23.5 24.4 22.8];
%e1 = 10 right?

%2
ci2 = [28 28.4 24.0 23.5 23.2 22.4 24.1 31.7 31.9 25.9 22.2 26.0 23.9 14.5 7.9 4.5];
cj2 = ci2./a;
cl2 = [401 417 437 452 470 488 505 530 547 566 588 607 622 638 658 677];
%e1
cp2 = [52.5 56.8 60.6 65.6 72.6 66.9 58.3 56.2 55.2 49.1 46.6 47.9 48.1 43.2 41.8 41.5];

%airampo 1
ai1 = [7.3 7.4 7.5 7.7 7.8 8.0 8.0 8.3 8.4 8.6 8.7 8.9 9.0 9.2 9.3 9.5];
aj1 = ai1./a;
al1 = [400 418 437 454 471 487 507 529 546 568 588 607 621 641 658 674 ];
ap1 = [29.3 41.9 45.0 48.7 55.6 50.1 41.1 40.0 39.4 32.7 29.9 30.8 31.1 27.0 24.1 23.9];

ai2 = [6.5 5.5 4.7 4.2 3.5 2.7 2.2 2.3 2.1 1.7 1.2 1.1 0.9 0.6 0.5 0.6];
aj2 = ai2./a;
al2 = [402 418 436 453 470 488 507 530 547 567 587 608 620 640 658 673];
ap2 = [33.9 47.5 54.5 61.8 56.3 46.7 44.9 44.3 37.7 34.9 36.1 35.7 31.7 29.8 28.8 28.0];

ai3 = [0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.2 0.2 0.1 0 0];

ipce_c1 = 1240*cj1./(cp1.*cl1)*100;
ipce_c2 = 1240*cj2./(cp2.*cl2)*100;
ipce_a1 = 1240*aj1./(ap1.*al1)*100;
ipce_a2 = 1240*aj2./(ap2.*al2)*100;

figure
subplot(2, 1, 1)
plot(cl1, ipce_c1, cl2, ipce_c2)
title('IPCE corn 20:1')
xlabel('Wavelength [nm]')
subplot(2, 1, 2)
plot(al1, ipce_a1, al2, ipce_a2)
title('IPCE airampo 1:1')
xlabel('Wavelength [nm]')